# ejemplo-clase-
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Bot Dominio, Rango y Gr√°fica</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body {
      background: #fceeff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 30px;
    }
    .bot-box {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 15px #aaa;
      max-width: 800px;
      margin: auto;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      width: 80%;
      margin-top: 10px;
    }
    .respuesta {
      font-weight: bold;
      color: #8e24aa;
      margin-top: 20px;
    }
    #grafica {
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div class="bot-box">
    <h2>ü§ñ Bot: Dominio, Rango, As√≠ntotas y Gr√°fica</h2>
    <input type="text" id="funcionInput" placeholder="Ej: f(x) = x^2 - 4 o f(x) = 1/(x-2)">
    <br>
    <button onclick="analizarFuncion()">Resolver</button>
    <div class="respuesta" id="respuesta"></div>
    <div id="grafica"></div>
  </div>

  <script>
    function hablar(texto) {
      const voz = new SpeechSynthesisUtterance(texto);
      voz.lang = "es-ES";
      speechSynthesis.speak(voz);
    }

    function analizarFuncion() {
      const entrada = document.getElementById("funcionInput").value.trim().toLowerCase();
      const salida = document.getElementById("respuesta");
      let expr = entrada.replace("f(x)=", "").replace("^", "**");

      let tipo = "";
      let dominio = "Todos los n√∫meros reales";
      let rango = "Todos los n√∫meros reales";
      let asintotas = "Ninguna";
      let respuesta = "";

      try {
        const f = new Function("x", "return " + expr);

        // Clasificaci√≥n
        if (expr.includes("**2")) {
          tipo = "cuadr√°tica";
          rango = "f(x) ‚â• m√≠nimo si la par√°bola abre hacia arriba, o f(x) ‚â§ m√°ximo si abre hacia abajo.";
        } else if (expr.includes("/") && expr.includes("x")) {
          tipo = "racional";
          asintotas = "Tiene as√≠ntota(s) vertical(es) donde el denominador se hace cero.";
          // Estimar as√≠ntota vertical
          const match = expr.match(/\/\((x[^\)]*)\)/);
          if (match) {
            const asintota = match[1].replace("=", "").trim();
            asintotas += ` Posible en x = ${asintota}`;
            dominio = "Todos los reales excepto donde el denominador se hace cero.";
          }
          rango = "Todos los reales excepto donde no hay imagen, seg√∫n la as√≠ntota horizontal o valores excluidos.";
        } else if (expr.includes("x")) {
          tipo = "lineal";
        } else {
          tipo = "constante o no v√°lida";
        }

        // Construir mensaje
        respuesta = `üìå Tipo de funci√≥n: ${tipo.toUpperCase()}.\nüß† Dominio: ${dominio}.\nüìà Rango: ${rango}.\n‚ö†Ô∏è As√≠ntotas: ${asintotas}.`;
        salida.innerText = respuesta;
        hablar(respuesta);

        // Gr√°fico
        const x = [], y = [];
        for (let i = -20; i <= 20; i += 0.1) {
          try {
            const val = f(i);
            if (isFinite(val)) {
              x.push(i);
              y.push(val);
            } else {
              x.push(i);
              y.push(null);
            }
          } catch {
            x.push(i);
            y.push(null);
          }
        }

        const data = [{
          x: x,
          y: y,
          type: 'scatter',
          mode: 'lines',
          line: { color: '#8e24aa' }
        }];

        Plotly.newPlot("grafica", data, {
          title: "Gr√°fica de la funci√≥n",
          xaxis: { title: "x" },
          yaxis: { title: "f(x)" }
        });

      } catch (e) {
        const error = "‚ö†Ô∏è Error: No pude entender esa funci√≥n. Revisa si escribiste bien.";
        salida.innerText = error;
        hablar(error);
      }
    }
  </script>
</body>
</html>
