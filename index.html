# ejemplo-clase-
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Bot de Dominio, Rango y Gr치fica</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0e6ff;
      text-align: center;
      padding: 30px;
    }
    .bot-box {
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 0 10px #aaa;
      padding: 25px;
      max-width: 700px;
      margin: auto;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
      width: 80%;
    }
    .respuesta {
      font-weight: bold;
      color: #5e2a9e;
      margin-top: 20px;
    }
    #grafica {
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div class="bot-box">
    <h2>游뱄 Bot: Dominio, Rango, As칤ntotas y Gr치fica</h2>
    <input type="text" id="funcionInput" placeholder="Ej: f(x) = x^2 - 4 o f(x) = 1/(x-2)">
    <br>
    <button onclick="analizarFuncion()">Resolver</button>
    <div class="respuesta" id="respuesta"></div>
    <div id="grafica"></div>
  </div>

  <script>
    function hablar(texto) {
      const voz = new SpeechSynthesisUtterance(texto);
      voz.lang = "es-ES";
      speechSynthesis.speak(voz);
    }

    function analizarFuncion() {
      const entrada = document.getElementById("funcionInput").value.trim().toLowerCase();
      let expr = entrada.replace("f(x)=", "").replace("^", "**");

      let mensaje = "";
      let tieneAsintotas = false;

      try {
        const f = new Function("x", "return " + expr);

        // Detectar el tipo
        if (expr.includes("**2")) {
          mensaje = "Es una funci칩n cuadr치tica. El dominio es todos los reales. El rango depende de la orientaci칩n de la par치bola.";
        } else if (expr.includes("/") && expr.includes("x")) {
          mensaje = "Es una funci칩n racional. Tiene una as칤ntota vertical donde el denominador se hace cero.";
          tieneAsintotas = true;
        } else if (expr.includes("x")) {
          mensaje = "Es una funci칩n lineal. Su dominio y rango son todos los reales.";
        } else {
          mensaje = "Ingresa una funci칩n v치lida con 'x'.";
        }

        document.getElementById("respuesta").innerText = mensaje;
        hablar(mensaje);

        // Datos para graficar
        const x = [];
        const y = [];
        for (let i = -20; i <= 20; i += 0.1) {
          try {
            const val = f(i);
            if (isFinite(val)) {
              x.push(i);
              y.push(val);
            } else {
              x.push(i);
              y.push(null); // Saltar as칤ntotas
            }
          } catch {
            x.push(i);
            y.push(null);
          }
        }

        const data = [{
          x: x,
          y: y,
          type: 'scatter',
          mode: 'lines',
          line: { color: '#663399' }
        }];

        Plotly.newPlot("grafica", data, {
          title: "Gr치fica de la funci칩n",
          xaxis: { title: "x" },
          yaxis: { title: "f(x)" }
        });

      } catch (e) {
        const errorMsg = "No pude entender esa funci칩n. Revisa la sintaxis.";
        document.getElementById("respuesta").innerText = errorMsg;
        hablar(errorMsg);
      }
    }
  </script>
</body>
</html>

